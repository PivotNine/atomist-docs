## How Atomist Project Templates are Used

Templates are normally defined in GitHub repositories but must be published to be available to your team.

## Templates and Contracts

Atomist templates can be invoked with or without a service contract (definition of a microservice). Simple templates may ignore contracts, but templates that are contract-aware must generate a valid application whether or not a contract is supplied.

## Template Identification

Templates are identified by group/artifact/version (GAV), following the widely adopted practice of Maven and other tools.

For example, the Atomist-supplied Spring Rest template is identified as follows:

```
group: atomist
artifact: spring-rest-service
version: 1.0.0
```

> ***NOTE:*** All Atomist-supplied templates are in the atomist group.

## Template Parameters

Templates declare parameters which are available during template evaluation.

* ***parameters:*** Parameters that you must supply for each use of the template. Validation information is provided in the form of regular expression. Parameters may have default values. Such parameters are gathered before template evaluation.
* ***computed parameters:*** Parameters computed from regular parameters before template evaluation. For example, when generating a Spring MVC project, the name and path of the @RestController class is a function of the base source path, package and name parameters. Computed parameters are computed by logic in a template class (implemented in Java or Scala) or in a JavaScript function defined in the template itself.

## Template Tags

Templates expose tags that allow their classification. For example, the spring-rest-service exposes java, spring, spring-boot and rest tags.

## Template Visibility (Public and Private)

Templates may be public or private. A public template is visible to all users and must have a unique name across all users. A private template is visible only to the group of the template creator. Visibility is specified when a template is published.

## Version Numbering

Templates follow semantic versioning. Atomist automatically manages the version numbers of templates. 

The first release will be version `1.0.0-SNAPSHOT`. Thereafter increments are automatic.

## Debugging Template Execution

### Accessing Template Provenance and Execution Information

A file named `provenance.txt` is included in every project generated by the Atomist templating system. It includes information about the version of the template in use, version identification and information about the backing repository along with the parameters that were passed to the template and computed by the template itself. An example would be:

```
Template info:

Group: atomist
Name: spring-rest-service
Version 1.0.0-SNAPSHOT

Backing GitHub repo:
Owner: atomist-project-templates
Repo: spring-rest-service
Branch: master
Path (within repo): 
sha: 8495cf633a8988db5d91d03f24d0cbc1d8481cbe


Parameter values (passed in on template invocation):
name='spring20'
team-id='T0KT93A9X'
group_id='group'
package_name='com.test20'
version='0'

Computed parameter values (computed based on parameter values passed in):
configuration_class_name='Spring20Configuration'
application_name='Spring20'
containerless_web_integration_test_name='Spring20OutOfContainerIntegrationTests'
application_class_name='Spring20Application'
startup_test_name='Spring20ApplicationTests'
web_integration_test_name='Spring20WebIntegrationTests'
package_path='com/test20'
base_source_path='src/main/java'
base_test_path='src/test/java'
date_time='27 06 2016 '
creation_date='2016-06-27'
```

### Including Template Provenance Information in Your Generated Code

Three special parameters are exposed to all templates, identifying the template version in use. Like any other parameters, these can be used in any dynamically generated file. The parameters are:

* ***template_name***: Name of the template. Corresponds to the template artifact name.
* ***template_group***: Group owning the template, such as atomist for Atomist-supplied templates.
* ***template_version***: Template version. This adheres to [semantic versioning](http://semver.org/) conventions.

The following example shows how to access and use of two of these parameters in a `README.md` file:

```
Created from template ${template_name}, version ${template_version}.
```
